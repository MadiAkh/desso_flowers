{% extends "base.html" %}
{% load static %}

{% block title %}Главная — DÉSSO FLOWERS{% endblock %}

{% block extra_css %}
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'flowers_catalog_page/css/flowers_catalog_page.css' %}">
  <link rel="stylesheet" href="{% static 'main_page/css/main_page.css' %}">
{% endblock %}


{% block content %}

  {% if new_products %}
  <section class="home-new">
    <div class="container">

      <div class="home-new-header">
        <h2 class="home-new-title">НОВИНКИ</h2>

        <div class="home-new-controls">
          <button class="home-new-arrow home-new-arrow--prev"
                  type="button"
                  aria-label="Предыдущие новинки"
                  data-home-new-prev></button>
          <button class="home-new-arrow home-new-arrow--next"
                  type="button"
                  aria-label="Следующие новинки"
                  data-home-new-next></button>
        </div>
      </div>

      <div class="home-new-slider" data-home-new-slider>
        <div class="home-new-scroller" data-home-new-scroller>
          <div class="home-new-track">

            {% for product in new_products %}
              <article class="catalog-card home-new-card">
                <button class="catalog-card-fav" type="button" aria-label="Добавить в избранное"></button>

                <a href="#" class="catalog-card-media">
                  {% if product.media_type == "image" %}
                    <img src="{{ product.file.url }}" alt="{{ product.name }}">
                  {% else %}
                    <video muted playsinline loop>
                      <source src="{{ product.file.url }}" type="video/mp4">
                    </video>
                  {% endif %}

                  {% if not product.is_active %}
                    <span class="catalog-card-badge catalog-card-badge--out">НЕТ В НАЛИЧИИ</span>
                  {% elif product.is_new %}
                    <span class="catalog-card-badge catalog-card-badge--new">NEW</span>
                  {% endif %}
                </a>

                <div class="catalog-card-body">
                  <div class="catalog-card-category">
                    {{ product.description }}
                  </div>
                  <h3 class="catalog-card-title">{{ product.name }}</h3>

                  <div class="catalog-card-footer">
                    <div class="catalog-card-price">
                      {{ product.price }} ₸
                    </div>
                    <button class="catalog-card-add" type="button" aria-label="Добавить в корзину"></button>
                  </div>
                </div>
              </article>
          {% endfor %}

          </div>
        </div>
      </div>

    </div>
  </section>
  {% endif %}

{% endblock %}


{% block scripts %}
  {{ block.super }}
  <script src="{% static 'main_page/js/main_page.js' %}"></script>
{% endblock %}

